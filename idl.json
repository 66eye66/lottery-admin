{"version":"0.1.0","name":"lottery","instructions":[{"name":"initialize","accounts":[{"name":"lottery","isMut":true,"isSigner":true},{"name":"authority","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"buyTickets","accounts":[{"name":"lottery","isMut":true,"isSigner":false},{"name":"userTicket","isMut":true,"isSigner":false},{"name":"userReferral","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true},{"name":"l1Referrer","isMut":false,"isSigner":false,"isOptional":true},{"name":"l1ReferralAccount","isMut":false,"isSigner":false,"isOptional":true},{"name":"l2ReferralAccount","isMut":false,"isSigner":false,"isOptional":true},{"name":"l2Referrer","isMut":true,"isSigner":false,"isOptional":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"ticketCount","type":"u64"}]},{"name":"draw","accounts":[{"name":"lottery","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"winner1","isMut":true,"isSigner":false},{"name":"winner2","isMut":true,"isSigner":false},{"name":"winner3","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"withdraw","accounts":[{"name":"lottery","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true}],"args":[{"name":"amount","type":"u64"}]},{"name":"setTicketPrice","accounts":[{"name":"lottery","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}],"args":[{"name":"newPrice","type":"u64"}]},{"name":"getReferralEarnings","accounts":[{"name":"referralAccount","isMut":true,"isSigner":false}],"args":[],"returns":"u64"}],"accounts":[{"name":"ReferralAccount","type":{"kind":"struct","fields":[{"name":"parent","type":"publicKey"},{"name":"l1Count","type":"u64"},{"name":"l2Count","type":"u64"},{"name":"l1Sum","type":"u64"},{"name":"l2Sum","type":"u64"},{"name":"totalEarnings","type":"u64"}]}},{"name":"Lottery","type":{"kind":"struct","fields":[{"name":"owner","type":"publicKey"},{"name":"netPool","type":"u64"},{"name":"ticketCount","type":"u64"},{"name":"lastDraw","type":"i64"},{"name":"processing","type":"bool"},{"name":"ticketPrice","type":"u64"}]}},{"name":"UserTicket","type":{"kind":"struct","fields":[{"name":"owner","type":"publicKey"},{"name":"count","type":"u64"}]}}],"errors":[{"code":6000,"name":"InvalidNonce","msg":"Invalid nonce"},{"code":6001,"name":"MathOverflow","msg":"Math operation overflow"},{"code":6002,"name":"Unauthorized","msg":"Unauthorized access"},{"code":6003,"name":"InsufficientFunds","msg":"Insufficient funds"},{"code":6004,"name":"InvalidPrice","msg":"Invalid ticket price"},{"code":6005,"name":"ProcessingInProgress","msg":"Processing in progress"},{"code":6006,"name":"InvalidTicketCount","msg":"Invalid ticket count"},{"code":6007,"name":"InvalidReferral","msg":"Invalid referral"}]}
